<app-menu></app-menu>
<div class="container my-5">
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h1 class="mb-0">Détails de l'offre</h1>
        </div>
        <div class="card-body">
            <!-- Navigation Tabs -->
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button
                        class="nav-link active"
                        id="home-tab"
                        data-bs-toggle="tab"
                        data-bs-target="#home"
                        type="button"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true">
                        Informations générales
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button
                        class="nav-link"
                        id="profile-tab"
                        data-bs-toggle="tab"
                        data-bs-target="#profile"
                        type="button"
                        role="tab"
                        aria-controls="profile"
                        aria-selected="false">
                        Candidatures
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button
                        class="nav-link"
                        id="contact-tab"
                        data-bs-toggle="tab"
                        data-bs-target="#contact"
                        type="button"
                        role="tab"
                        aria-controls="contact"
                        aria-selected="false">
                        Liste des candidatures soumises
                    </button>
                </li>
<!--                <li class="nav-item" role="presentation">-->
<!--                    <button-->
<!--                            class="nav-link"-->
<!--                            id="candidatures-tab"-->
<!--                            data-bs-toggle="tab"-->
<!--                            data-bs-target="#candidatures"-->
<!--                            type="button"-->
<!--                            role="tab"-->
<!--                            aria-controls="contact"-->
<!--                            aria-selected="false">-->
<!--                        Contact-->
<!--                    </button>-->
<!--                </li>-->
            </ul>

            <!-- Tab Content -->
            <div class="tab-content mt-4" id="myTabContent">
                <!-- Tab 1: Informations générales -->
                <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                    <div class="row mb-3">
                        <div class="col-md-4 font-weight-bold">Libellé :</div>
                        <div class="col-md-8">{{ offre?.nom }}</div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-4 font-weight-bold">Description :</div>
                        <div class="col-md-8 text-justify">{{ offre?.description }}</div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 font-weight-bold">Date :</div>
                        <div class="col-md-8">{{ offre?.datePublication | date: 'dd/MM/yyyy' }}</div>
                    </div>
                </div>

                <!-- Tab 2: Candidatures -->
                <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                    <h2 class="text-secondary">Candidatures</h2>
                    <form (ngSubmit)="postuler()">
                        <div class="mb-3">
                            <label for="lettreMotivation" class="form-label">Lettre de motivation :</label>
                            <textarea
                                id="lettreMotivation"
                                [(ngModel)]="lettreMotivation"
                                name="lettreMotivation"
                                class="form-control"
                                rows="6"
                                placeholder="Rédigez votre lettre de motivation ici..."
                                required>
                            </textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Postuler</button>
                    </form>
                </div>

                <!-- Tab 3: Contact -->
                <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                    <h2 class="text-secondary">Liste des candidatures soumises</h2>
                    <br/>
                    <ag-grid-angular
                            class="ag-theme-alpine"
                            [rowData]="candidatures"
                            [columnDefs]="colDefs"
                            style="width: 100%; height: 400px;"
                    ></ag-grid-angular>
                </div>
            </div>
        </div>
    </div>
</div>
